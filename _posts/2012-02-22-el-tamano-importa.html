---
layout: post
title: ¡El tamaño importa!
date: '2012-02-22T10:07:00.000+01:00'
author: Míriam Luján
categories:
- sonarqube
- calidad
- desarrollo
- metricas
modified_time: '2012-02-22T10:07:05.751+01:00'
thumbnail: http://2.bp.blogspot.com/-hHnr-m0c6uw/T0PRRFPoqaI/AAAAAAAAADA/MmkRDArl3KA/s72-c/cintametrica.png
blogger_id: tag:blogger.com,1999:blog-6299073294914176200.post-736617365489410058
redirect_from: /2012/02/el-tamano-importa.html
---

<div class="post-header"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-hHnr-m0c6uw/T0PRRFPoqaI/AAAAAAAAADA/MmkRDArl3KA/s1600/cintametrica.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="132" src="http://2.bp.blogspot.com/-hHnr-m0c6uw/T0PRRFPoqaI/AAAAAAAAADA/MmkRDArl3KA/s200/cintametrica.png" width="200" /></a></div><div style="text-align: justify;">Cuando se habla de calidad el tamaño es muy importante. Se suele afirmar que el tamaño condiciona el resto de características. </div><div style="margin-bottom: 0cm;">&nbsp;  </div><div style="margin-bottom: 0cm;"><div style="text-align: justify;">La experiencia adquirida analizando proyectos con Sonar para determinar la calidad hace que se pueda afirmar que el tamaño de un proyecto es una característica muy importante a la hora de evaluar la calidad de dicho proyecto.</div><br /><a name='more'></a><br /><div style="text-align: justify;">Actualmente se suele medir el tamaño de un proyecto contando el número de líneas físicas y el número de líneas de código.<span style="text-decoration: none;">El problema que conlleva este manera de medir el tamaño es el estilo a la hora de programar de cada programador. </span></div></div><div style="margin-bottom: 0cm;"><br /><span style="text-decoration: none;">Por ejemplo:</span><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-V62xOl_OrGg/T0SkolOa7WI/AAAAAAAAADQ/F1daU1ehQEU/s1600/codigo1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-V62xOl_OrGg/T0SkolOa7WI/AAAAAAAAADQ/F1daU1ehQEU/s1600/codigo1.png" /></a></div><div class="separator" style="clear: both; text-align: center;"></div></div><div style="margin-bottom: 0cm;"></div><div style="text-align: left;"></div><div style="text-align: justify;"><span style="text-decoration: none;">En estos dos ejemplos la funcionalidad coincide pero el número de líneas difiere bastante. Entonces, ¿podemos afirmar que el tamaño importa si medimos el tamaño de una manera tan poco rigurosa?</span></div><div style="margin-bottom: 0cm;"></div><div style="margin-bottom: 0cm;"><div style="text-align: justify;"><span style="text-decoration: none;">Lo ideal sería calcular la funcionalidad de un código con la intención de conocer el tamaño de dicho código. Para ello, existe la métrica&nbsp;<a href="http://c2.com/cgi/wiki/Wiki?AbcMetric" target="_blank">ABC</a> detallada en un artículo publicado en 1997 por&nbsp;<a href="http://www.softwarerenovation.com/ABCMetric.pdf" target="_blank">Jerry Fitzpatrick</a>.</span></div></div><div style="margin-bottom: 0cm;"></div><div style="margin-bottom: 0cm;"></div><div style="margin-bottom: 0cm;"><br /><span style="text-decoration: none;"><b><span style="font-size: large;">Métrica ABC</span>&nbsp;</b></span></div><div style="margin-bottom: 0cm;"><span style="text-decoration: none;"><b>&nbsp;</b></span>    </div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-h_kF31ZesSo/T0PLrY4EnKI/AAAAAAAAACw/pwQkT9k90qg/s1600/dreamstimefree_3984954.jpg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="133" src="http://2.bp.blogspot.com/-h_kF31ZesSo/T0PLrY4EnKI/AAAAAAAAACw/pwQkT9k90qg/s200/dreamstimefree_3984954.jpg" width="200" /></a></div><br /><span style="text-decoration: none;">La métrica ABC calcula un vector con tres componentes:</span><br /><ul><li><div style="margin-bottom: 0cm;"><i>Assigment</i>: una  transferencia de datos a una variable   </div></li><li><div style="margin-bottom: 0cm;"><i>Branch</i>: llamadas a  métodos   </div></li><li><i>Condition</i>: una condición lógica o <i>booleana   </i><br /> </li></ul><br /><br />&nbsp;El valor de la métrica ABC se obtiene calculando la norma del vector ABC:<br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-uav_VkDshnc/T0JwedxOilI/AAAAAAAAACQ/JLZxru96ZFs/s1600/formula.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-uav_VkDshnc/T0JwedxOilI/AAAAAAAAACQ/JLZxru96ZFs/s1600/formula.png" /></a></div><div style="text-align: justify;"><span style="text-decoration: none;">En la página del proyecto&nbsp;<a href="http://gmetrics.sourceforge.net/gmetrics-AbcMetric.html" target="_blank">GMetrics</a>y en el blog personal de&nbsp;<a href="http://jakescruggs.blogspot.com/2008/08/whats-good-flog-score.html" target="_blank">Jake Scruggs</a> se puede encontrar una clasificación de como interpretar la métrica.</span></div><br /><div style="text-align: justify;">Después de llevar a cabo una investigación exhaustiva con proyectos muy grandes y reales hemos elaborado nuestra propia clasificación de la métrica.&nbsp;Dicha clasificación tiene realmente sentido cuando hablamos de la métrica ABC de una clase o un método. La métrica de un proyecto total nos aporta la misma información que el número de líneas de código de un proyecto pero no nos aporta información sobre si es necesario refactorizar. En el caso del valor de la métrica obtenida para una clase o un método podemos afirmar si es necesario refactorizar o por el contrario el número de métodos y clases es el correcto.</div><br />Clasificación de la métrica ABC para saber si es necesario refactorizar las clases:<br /><div class="separator" style="clear: both; text-align: center;"></div><ul><li>&nbsp; 0-30 = Correcto</li><li>30-60 = Es necesario refactorizar</li><li>60-90 = Es MUY necesario refactorizar</li><li>&gt;=90 = Es OBLIGATORIO refactorizar </li></ul>Clasificación de la métrica ABC para saber si es necesario refactorizar los métodos:<br /><ul><li>&nbsp; 0-15 = Correcto</li><li>15-30 = Es necesario refactorizar</li><li>30-45 = Es MUY necesario refactorizar</li><li>&gt;=45 = Es OBLIGATORIO refactorizar</li></ul><b>Sonar ABC Metric Plugin </b><br /><br /><div style="text-align: justify;"><span style="font-size: small;"><span style="text-decoration: none;">En <a href="http://www.excentia.es/" target="_blank">excentia</a> dentro del marco de <a href="https://servicios.excentia.es/confluence/display/QAX/Todo+en+uno" target="_blank">QAlitaX</a>&nbsp;hemos desarrollado una extensión para </span><a href="http://www.sonarsource.org/" target="_blank">Sonar</a><span style="text-decoration: none;"> (herramienta para medir la calidad del software)</span><span style="text-decoration: none;">, basado en la métrica ABC, que determina si es necesario llevar a cabo una refactorización.</span></span></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-Evs_oY7LcwQ/T0JyMdVbJZI/AAAAAAAAACY/02cALX2JzzI/s1600/grafica1.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="179" src="http://1.bp.blogspot.com/-Evs_oY7LcwQ/T0JyMdVbJZI/AAAAAAAAACY/02cALX2JzzI/s640/grafica1.png" width="640" /></a></div><span style="font-size: small;">&nbsp;             </span><br /><div style="text-align: justify;"><span style="font-size: small;">En el widget se puede ver el valor de la métrica media de las clases y los métodos junto a un icono que representa si se ha de refactorizar o no.</span></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-8frh1ijdVig/T0JyMoSw6jI/AAAAAAAAACc/IXimkvNKMJg/s1600/grafica2.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="96" src="http://2.bp.blogspot.com/-8frh1ijdVig/T0JyMoSw6jI/AAAAAAAAACc/IXimkvNKMJg/s640/grafica2.png" width="640" /></a></div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Además, para cada clase se muestra el valor de la métrica junto con  otra información interesante como los valores de A, B y C del vector.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">En  conclusión, ya que el tamaño es importante a la hora de evaluar la calidad de un proyecto, es necesario medir el tamaño de una manera precisa y rigurosa para todos los proyectos, siendo ese el objetivo de la métrica ABC.</div><span style="font-size: x-small;"><span style="text-decoration: none;"></span></span><br /><table cellpadding="2" cellspacing="0" style="width: 273px;"><colgroup><col width="50"></col> <col width="215"></col> </colgroup><tbody><tr>  <td style="border: none; padding: 0cm;" width="50"><br /></td>  <td style="border: none; padding: 0cm;" width="215"><br /></td><td style="border: medium none; padding: 0cm;" width="215"><br /></td></tr></tbody></table>