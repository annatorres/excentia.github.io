---
layout: post
title: El programador es la clave
date: '2015-10-05T13:21:00.001+02:00'
author: Antonio Calero
categories:
- calidad
- sonarqube
modified_time: '2016-02-11T18:02:24.712+01:00'
thumbnail: https://1.bp.blogspot.com/-_ApSgVDRh8Q/VhJcZ5lNVoI/AAAAAAAAA8k/4gRxN_V7G7Q/s72-c/excentia.jpg
blogger_id: tag:blogger.com,1999:blog-6299073294914176200.post-3555794247344422994
redirect_from: /2015/10/el-programador-es-la-clave.html
---

<div><a href="http://1.bp.blogspot.com/-_ApSgVDRh8Q/VhJcZ5lNVoI/AAAAAAAAA8k/4gRxN_V7G7Q/s1600/excentia.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img alt="Conferencia europea de SonarQube en Ginebra" border="0" height="240" src="https://1.bp.blogspot.com/-_ApSgVDRh8Q/VhJcZ5lNVoI/AAAAAAAAA8k/4gRxN_V7G7Q/s320/excentia.jpg" title="" width="320" /></a><span style="font-family: inherit;">¡Ya de vuelta en Valencia asimilando todo el contenido mostrado en la <a href="http://noticias.excentia.es/2015/09/excentia-acude-la-primera-conferencia.html">primera conferencia europea de SonarQube</a>!</span></div><div><span style="font-family: inherit;"><br /></span></div><div><span style="font-family: inherit;">Como era de esperar, hay muchas novedades, todas muy importantes para el ecosistema de SonarQube y habrá que empezar a mirarlas con lupa para sacarles el máximo partido y seguir mejorando la calidad de nuestro código.</span></div><div><span style="font-family: inherit;"><br /></span></div><div><span style="font-family: inherit;">Si tuviese que escribir una frase que resuma las novedades, me quedaría con la que he usado para el título del artículo:&nbsp;</span><b style="font-family: inherit; text-align: center;"><i>“El programador es la clave”</i></b></div><div><span style="font-family: inherit;"><br /></span></div><div><span style="font-family: inherit;">Puede sonar absurdo, ¿verdad? Si el código lo escribe el programador cómo no va a ser la clave… Claro, que fácil es decirlo… Pero hay que ir más allá, pensad por un momento que hasta ahora la única forma eficiente de conocer la calidad del código era esperar a que el programador suba los cambios a un control de versiones y se desencadenase un análisis en SonarQube. ¿Pensáis que eso es efectivo? No lo es. La clave está en que el programador suba el código sin los posibles defectos. Los defectos nunca deberían pasar por el control de versiones. Menudo reto, ¿verdad? Pues esto ya es posible, e irá mejorando mucho estos meses.</span></div><div><span style="font-family: inherit;"><br /></span></div><div><span style="font-family: inherit;">Os cuento como todo esto va a ser posible con las 4 piezas clave que se presentaron en la conferencia:</span></div><div><span style="font-family: inherit;"></span><br /><a name='more'></a></div><div><b><span style="font-family: inherit; font-size: large;">El pasado es historia, céntrate en el presente</span></b></div><div><span style="font-family: inherit;"><br /></span></div><div><a href="https://www.blogger.com/blogger.g?blogID=6299073294914176200" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"></a><a href="https://www.blogger.com/blogger.g?blogID=6299073294914176200" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"></a><a href="https://www.blogger.com/blogger.g?blogID=6299073294914176200" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"></a><a href="https://www.blogger.com/blogger.g?blogID=6299073294914176200" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"></a><a href="https://www.blogger.com/blogger.g?blogID=6299073294914176200" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"></a><a href="https://www.blogger.com/blogger.g?blogID=6299073294914176200" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"></a><a href="https://www.blogger.com/blogger.g?blogID=6299073294914176200" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"></a><span style="font-family: inherit;"><a href="http://opinion.excentia.es/2015/07/una-fuga-de-agua-cambia-el-juego-en-la.html">Soluciona tus fugas en lugar de achicar el agua</a>. El arreglo de la fuga significa poner toda la atención en el código “nuevo”, es decir, el código que se ha añadido o cambiado desde la última versión. De esa forma todo es más fácil.</span></div><div><span style="font-family: inherit;"><br /></span></div><div><span style="font-family: inherit;">La cantidad total de nuestra deuda técnica en el pasado puede ser deprimente. Si alguien pretende mejorar la calidad del pasado tendrá que invertir mucho esfuerzo. Puede que alguien diga que sí a esa inversión pero después, ¿cómo podemos asegurar que solucionamos la deuda sin caer en problemas de regresión? Que miedo… Esto no es nada divertido.</span></div><div><span style="font-family: inherit;"><br /></span></div><div><span style="font-family: inherit;">Por eso el programador tiene que tener toda la información disponible, en todo momento. SonarQube no<span style="font-family: inherit;">s ofrece diferentes alternativas:</span></span></div><div><span style="font-family: inherit;"><br /></span></div><div><ul class="Apple-dash-list"><li><span style="font-family: inherit;"><b>Vistas diferenciales</b>: hasta ahora era lo más utilizado. <a href="https://sonarqubehispano.org/display/DOC/Vistas+diferenciales">Más info en nuestro portal de SonarQube hispano</a>.</span></li></ul><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-4O2Pu_7k1H8/VhJZX_vkAnI/AAAAAAAAA7w/8mhhA90aIf8/s1600/Captura%2Bde%2Bpantalla%2B2015-10-05%2Ba%2Blas%2B13.02.33.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="Conferencia europea de SonarQube en Ginebra" border="0" height="140" src="https://2.bp.blogspot.com/-4O2Pu_7k1H8/VhJZX_vkAnI/AAAAAAAAA7w/8mhhA90aIf8/s400/Captura%2Bde%2Bpantalla%2B2015-10-05%2Ba%2Blas%2B13.02.33.png" title="" width="400" /></a></div><div><span style="font-family: inherit;"><br /></span></div><ul class="Apple-dash-list"><li><b style="font-family: inherit;">Umbrales de calidad sobre el código nuevo</b><span style="font-family: inherit;">: esta funcionalidad se introdujo en la versión 5 y permite fijar tus requisitos basándonos solo en las métricas sobre el código nuevo. Aquí esta la clave de todo. Si no paso el umbral de calidad sobre el código nuevo que acabo de escribir, mal vamos. Ese código es fácil de cambiar (lo acabas de hacer) así que ya no tienes excusas para no hacerlo. Tampoco tienes excusas para no cubrir con pruebas unitarias ese código nuevo.&nbsp;</span></li></ul><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-qr-eYNZAMLU/VhJZhyZarGI/AAAAAAAAA74/2BADAFs90eU/s1600/Captura%2Bde%2Bpantalla%2B2015-10-05%2Ba%2Blas%2B13.02.43.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="Conferencia europea de SonarQube en Ginebra" border="0" height="95" src="https://2.bp.blogspot.com/-qr-eYNZAMLU/VhJZhyZarGI/AAAAAAAAA74/2BADAFs90eU/s400/Captura%2Bde%2Bpantalla%2B2015-10-05%2Ba%2Blas%2B13.02.43.png" title="" width="400" /></a></div><div><span style="font-family: inherit;"><br /></span></div><div><ul class="Apple-dash-list"><li><span style="font-family: inherit;"><b>Notificaciones</b>: desde hace algún tiempo, un poco escondidas pero ahí están. Podemos decirle a SonarQube que nos envíe un email cada vez que detecte que hemos introducido nuevas evidencias. Ya no tenemos que ir a la plataforma web a ver si nos hemos despistado y hemos introducido malas prácticas, nos enviará un correo para informarnos con un enlace para ir a los detalles.</span></li></ul><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-peQFqXB_Ea8/VhJZrGBY25I/AAAAAAAAA8A/wP3G3dlJxEo/s1600/Captura%2Bde%2Bpantalla%2B2015-10-05%2Ba%2Blas%2B13.02.53.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="Conferencia europea de SonarQube en Ginebra" border="0" height="259" src="https://4.bp.blogspot.com/-peQFqXB_Ea8/VhJZrGBY25I/AAAAAAAAA8A/wP3G3dlJxEo/s320/Captura%2Bde%2Bpantalla%2B2015-10-05%2Ba%2Blas%2B13.02.53.png" title="" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Configuración de notificaciones</td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-micJyKRzg2w/VhJZ_22Gr8I/AAAAAAAAA8I/kvB1LlaUsyU/s1600/Captura%2Bde%2Bpantalla%2B2015-10-05%2Ba%2Blas%2B13.03.10.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="Conferencia europea de SonarQube en Ginebra" border="0" height="308" src="https://1.bp.blogspot.com/-micJyKRzg2w/VhJZ_22Gr8I/AAAAAAAAA8I/kvB1LlaUsyU/s400/Captura%2Bde%2Bpantalla%2B2015-10-05%2Ba%2Blas%2B13.03.10.png" title="" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Ejemplo de email recibido al detectar evidencias nuevas</td></tr></tbody></table></div></div><div><ul class="Apple-dash-list"><li><span style="font-family: inherit;"><b>Análisis en el propio IDE</b>: ya sabes que <a href="https://sonarqubehispano.org/pages/viewpage.action?pageId=4980858">existen diferentes plugins para los IDEs</a> más conocidos, esto es una de las cosas más importantes que necesitan los desarrolladores. Pero tenemos el problema de <a href="http://opinion.excentia.es/2015/04/la-velocidad-de-una-caravana-en-el.html">la velocidad de una caravana en el desierto</a>&nbsp;y es por eso que esto va a cambiar radicalmente con el nuevo producto SonarLint. <a href="http://opinion.excentia.es/2015/09/buenos-tiempos-para-los-usuarios-de.html">Los que desarrollan en .NET ya lo tienen</a>, y el resto pronto lo disfrutará.</span></li></ul><div><span style="font-family: inherit;"><br /></span></div><div><div><b><span style="font-family: inherit; font-size: large;">Analiza el código en un Pull Request con GitHub o BitBucket</span></b></div><div><b><span style="font-family: inherit;"><br /></span></b></div><div><span style="font-family: inherit;">Para poder adelantarnos al “commit” y no introducir evidencias que mejor que integrar el análisis en un Pull Request. A estas alturas, las bondades de Git ya son conocidas por todos, y las dos principales plataformas de colaboración son GitHub y BitBucket. ¿Qué mejor forma que integrar en el Pull Request un comentario que nos diga si hemos introducido evidencias? Así, de forma colaborativa los programadores discuten que es lo que ha pasado y aceptan o no la petición antes de que llegue al control de versiones.</span><br /><span style="font-family: inherit;"><br /></span><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-CIQi4N9PO9M/VhJaVfH0aPI/AAAAAAAAA8Q/ugzFnznEPfg/s1600/Captura%2Bde%2Bpantalla%2B2015-10-05%2Ba%2Blas%2B13.03.45.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="Conferencia europea de SonarQube en Ginebra" border="0" height="320" src="https://3.bp.blogspot.com/-CIQi4N9PO9M/VhJaVfH0aPI/AAAAAAAAA8Q/ugzFnznEPfg/s320/Captura%2Bde%2Bpantalla%2B2015-10-05%2Ba%2Blas%2B13.03.45.png" title="" width="317" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Pull Request con el análisis de calidad y las evidencias detectadas</td></tr></tbody></table><br /></div><div><span style="font-family: inherit;">Tal y como decía, el programador es la clave. Anticiparle toda la información posible será la mejor forma de mejorar su código.</span><br /><span style="font-family: inherit;"><br /></span></div><div><span style="font-family: inherit;"><br /></span></div><div><b><span style="font-family: inherit; font-size: large;">Desacoplando la base de datos de los análisis</span></b></div><div><b><span style="font-family: inherit;"><br /></span></b></div><div><span style="font-family: inherit;">¡POR FIN! Si, si, tal y como leéis, una de las cuestiones más conflictivas de SonarQube ya ha sido resuelta. Ya no hará falta configurar un usuario de base de datos porque con la aparición del “Compute Engine” ya no se accede a la base de datos en tiempo de análisis. Esto tendrá más consecuencias, por supuesto (¡cuidado con los plugins!), pero significa que se elimina un cuello de botella muy importante y se mejora la seguridad de la plataforma. Esto además permite separar esfuerzos y escalar de forma mucho más fácil (dentro de poco el “Compute Engine” será un proceso Java independiente, como lo es el indexador de ElasticSearch.</span><br /><span style="font-family: inherit;"><br /></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-8i-5tA7MzO4/VhJap_F7sfI/AAAAAAAAA8Y/Oqlanztzs80/s1600/Captura%2Bde%2Bpantalla%2B2015-10-05%2Ba%2Blas%2B13.04.01.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="Conferencia europea de SonarQube en Ginebra" border="0" height="532" src="https://3.bp.blogspot.com/-8i-5tA7MzO4/VhJap_F7sfI/AAAAAAAAA8Y/Oqlanztzs80/s640/Captura%2Bde%2Bpantalla%2B2015-10-05%2Ba%2Blas%2B13.04.01.png" title="" width="640" /></a></div><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;"><br /></span></div><div><span style="font-family: inherit;"><br /></span></div><div><b><span style="font-family: inherit; font-size: large;">SonarLint, resuelve las evidencias antes de que aparezcan</span></b></div><div><b><span style="font-family: inherit;"><br /></span></b></div><div><span style="font-family: inherit;">La independencia de la base de datos va a permitir introducir muchas novedades. La primera, el nuevo producto SonarLint. Busca las evidencias en tiempo real a la vez que estás codificando. Tal cual. Como el corrector de Word. Es algo totalmente nuevo con varias herramientas:</span></div><div><ul class="Apple-dash-list"><li><span style="font-family: inherit;">Para los desarrolladores, super rápido, fácil de usar</span></li><li><span style="font-family: inherit;">No requiere instalar un servidor SonarQube (OMG!)</span></li><li><span style="font-family: inherit;">Cubre los lenguajes más populares (C#, Java, JS, PHP, …)</span></li><li><span style="font-family: inherit;">Análisis on-the-fly</span></li><li><span style="font-family: inherit;">¡Se puede usar offline!</span></li><li><span style="font-family: inherit;">Para Eclipse, Intellij, Visual Studio.</span></li></ul><div><span style="font-family: inherit;">Y en el futuro podremos:</span></div><div><ul class="Apple-dash-list"><li><span style="font-family: inherit;">Solucionar evidencias de forma automática (oh yeah!)</span></li><li><span style="font-family: inherit;">Compatibilidad con más lenguajes (nos enseñaron un ejemplo con código COBOL :-) )</span></li><li><span style="font-family: inherit;">Filtros en local de las evidencias</span></li></ul><div><span style="font-family: inherit;">Y más aún, aunque esta funcionalidad requerirá de conexión con el servidor de SonarQube:</span></div><ul class="Apple-dash-list"><li><span style="font-family: inherit;">Personalización del perfil de calidad, plugins, …</span></li></ul><div><span style="font-family: inherit;">Y más y más:</span></div><ul class="Apple-dash-list"><li><span style="font-family: inherit;">Mostrar solo las evidencias nuevas</span></li><li><span style="font-family: inherit;">Esconder falsos positivos</span></li><li><span style="font-family: inherit;">Filtrar por asignado (mis evidencias)</span></li></ul></div></div><div><span style="font-family: inherit;">Esto último requerirá enlazar con el proyecto y análisis regulares en el servidor.</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;"><br /></span><span style="font-family: inherit; font-size: large;"><b>¿Qué te parece?</b></span><br /><br />Y con esos cuatro temas principales cerramos el artículo... ¿Es suficiente para demostrar que la clave es el programador? Espero que sí. Hay muchas cosas más por supuesto, pero es algo que os iremos descubriendo conforme avance la publicación de la versión 5.2 de SonarQube.<br /><br />Y tú, ¿qué le pedirías a SonarQube? ¿Te parece que vamos por el buen camino?<br /><br /><br /></div></div></div>