---
layout: post
title: La gran trilogía de Eclipse. Parte 1.
date: '2012-09-11T09:00:00.000+02:00'
author: Míriam Luján
categories:
- plugins
- desarrollo
modified_time: '2012-09-11T09:04:45.788+02:00'
thumbnail: http://1.bp.blogspot.com/-DAJphjMZiJY/UCoNUS0uSZI/AAAAAAAAAGA/NG_G5j4cDCY/s72-c/eclipse.png
blogger_id: tag:blogger.com,1999:blog-6299073294914176200.post-6813298724103469533
blogger_orig_url: http://opinion.excentia.es/2012/09/la-gran-trilogia-de-eclipse-parte-1.html
---

<div style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><a href="http://1.bp.blogspot.com/-DAJphjMZiJY/UCoNUS0uSZI/AAAAAAAAAGA/NG_G5j4cDCY/s1600/eclipse.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="106" src="http://1.bp.blogspot.com/-DAJphjMZiJY/UCoNUS0uSZI/AAAAAAAAAGA/NG_G5j4cDCY/s200/eclipse.png" width="200" /></a><a href="http://www.eclipse.org/" target="_blank"></a></div>Eclipse es el IDE estrella para los desarrolladores java. Si programas con Eclipse  estás acostumbrado a renombrar variables o realizar algunas  refactorizaciones tan importantes como, ya se comentó, en el artículo <a href="http://opinion.excentia.es/2012/05/refactoriza-y-venceras.html" target="_blank">¡¡Refactoriza y vencerás!!</a>.<br />Además Eclipse se puede personalizar con numerosos plugins como: <a href="http://findbugs.sourceforge.net/" target="_blank">findbugs</a>, <a href="http://eclipse.org/m2e/" target="_blank">m2eclipse</a>, <a href="http://subclipse.tigris.org/" target="_blank">subclipse</a>, ...<br /><br />Muchos desarrolladores programan plugins para Eclipse de manera sencilla pero  muchos programadores querrían desarrollar productos tan potentes como  los plugins de eclipse pero sin necesidad de lanzar eclipse para  ejecutarlos.<br /><br />Esta trilogía sobre Eclipse pretende detallar de manera técnica como convertir un plugin de eclipse en un producto standalone. En el primer artículo de la trilogía la manera de convertir el plugin será a través del entorno gráfico de eclipse. En el segundo artículo explicaré como convertir el plugin desde consola. Para terminar la trilogía escribiré un artículo sobre como testear el proyecto implementado.<br /><a name='more'></a><h4>Convierte un plugin de eclipse en un producto standalone</h4>Este artículo es el primero de una trilogía sobre como convertir un plugin de eclipse en un producto standalone. En él se pretende explicar un pequeño ejemplo de como convertir un plugin de eclipse en un producto standalone desde el entorno gráfico de eclipse. <br /><br />Eclipse cuenta con un tipo de proyecto para construir aplicaciones y  productos a partir de un plugin de eclipse que pueden ser ejecutados  con un comando de consola.<br /><br />En primer lugar hay que crear un plugin de eclipse. Selecciona en eclipse <span class="guimenu">File</span> → Other → Plug-in Project. Dale un nombre al proyecto y cambia las  carpetas que sugiere eclipse por las que se usan en mave src/main/java y  target.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-EcvyDERdkT8/UCoSoTgy-XI/AAAAAAAAAGQ/ZXf12LVuLY0/s1600/captura1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://1.bp.blogspot.com/-EcvyDERdkT8/UCoSoTgy-XI/AAAAAAAAAGQ/ZXf12LVuLY0/s320/captura1.png" width="257" /></a></div><br />Al darle a next hay que desmarcar que el plugin necesita intefaz  gráfica y debemos seleccionar Yes en la pregunta de si va a ser un RCP:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-EMvft7FB9Wc/UCoS8pdHL6I/AAAAAAAAAGY/UdfmremWGVE/s1600/captura2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://3.bp.blogspot.com/-EMvft7FB9Wc/UCoS8pdHL6I/AAAAAAAAAGY/UdfmremWGVE/s320/captura2.png" width="257" /></a></div><br />Al seleccionar el resto de ventanas podemos elegir el ejemplo típico de Hello world. El  proyecto tendrá dentro de src/main/java el código y un fichero llamado  plugin.xml en el que al abrir podemos encontrar una página como esta en  la pestaña Overview:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-oe78JLr4v-Y/UCoTF-mh-1I/AAAAAAAAAGg/W9tews0lGLg/s1600/captura3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="192" src="http://1.bp.blogspot.com/-oe78JLr4v-Y/UCoTF-mh-1I/AAAAAAAAAGg/W9tews0lGLg/s320/captura3.png" width="320" /></a></div><br />En dicha venta podemos encontrar un apartado testing en el que al  seleccionar Launch an Eclipse application ejecutaremos la aplicación  obteniendo el típico mensaje Hello RCP World! en la consola.<br /><br />Es necesario crear una feature que contenga el plugin. Para ello  creamos una feature en eclipse File → New → Feature Project.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-50kACvii5yk/UCoTVveGd8I/AAAAAAAAAGo/kPkhdHZk1zE/s1600/captura8.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://4.bp.blogspot.com/-50kACvii5yk/UCoTVveGd8I/AAAAAAAAAGo/kPkhdHZk1zE/s320/captura8.png" width="289" /></a></div>&nbsp;Al crear la feature seleccionamos el plugin anterior y en la pestaña  Plug-ins del fichero feature.xml deberemos encontrar el plugin. Es  necesario que la versión coincida con la del plugin:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-8ZPkoc_wmic/UCoTlZyg7YI/AAAAAAAAAGw/j0B6azwQCtM/s1600/captura9.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="192" src="http://1.bp.blogspot.com/-8ZPkoc_wmic/UCoTlZyg7YI/AAAAAAAAAGw/j0B6azwQCtM/s320/captura9.png" width="320" /></a></div><br />Es necesario crear otra feature con las dependencias que se  necesiten. Para ello volvemos a crear una feature basada en la  aplicación. En la pestaña de Plug-ins del fichero feature.xml añadiremos  el plugin org.eclipse.rcp.<br />Por último hay que crear un producto.  Para ello creamos un nuevo proyecto en eclipse File → New → Project y  dentro del proyecto vacío creamos un producto: File → New → Product  Configuration.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-BLSW_BCC7kY/UCoTx_FrAII/AAAAAAAAAG4/2PC3F66uYGY/s1600/captura4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://4.bp.blogspot.com/-BLSW_BCC7kY/UCoTx_FrAII/AAAAAAAAAG4/2PC3F66uYGY/s320/captura4.png" width="260" /></a></div><br />En el producto ahora tenemos un fichero llamado  ejemplo-product.product en el que la pestaña overview debemos completar  los campos:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-LLPDCG_fuhc/UCoT30WjSiI/AAAAAAAAAHA/2kef017BOPc/s1600/captura5.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="192" src="http://1.bp.blogspot.com/-LLPDCG_fuhc/UCoT30WjSiI/AAAAAAAAAHA/2kef017BOPc/s320/captura5.png" width="320" /></a></div><br />En la parte de Product Definition debemos crear un nuevo producto con el plugin y la aplicación:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-Zbd1qJW-7JQ/UCoT824J3mI/AAAAAAAAAHI/o4yCwjp-X-M/s1600/captura6.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="272" src="http://2.bp.blogspot.com/-Zbd1qJW-7JQ/UCoT824J3mI/AAAAAAAAAHI/o4yCwjp-X-M/s320/captura6.png" width="320" /></a></div><br />Seleccionamos que el producto se basa en features. De manera que el producto se queda de la siguiente manera:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-QJzzUkOH-v0/UCoUT0s9D_I/AAAAAAAAAHY/PpIHU1Vdl6w/s1600/captura7.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="192" src="http://3.bp.blogspot.com/-QJzzUkOH-v0/UCoUT0s9D_I/AAAAAAAAAHY/PpIHU1Vdl6w/s320/captura7.png" width="320" /></a></div><br /><br />&nbsp;Ahora sólo nos queda añadir las features al producto. Para ello en la  pestaña Dependencies del producto añadimos las dos features:<br /><br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-k5up3wXilJY/UCoUC7yptLI/AAAAAAAAAHQ/q4iJF-6pvg4/s1600/captura10.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="192" src="http://1.bp.blogspot.com/-k5up3wXilJY/UCoUC7yptLI/AAAAAAAAAHQ/q4iJF-6pvg4/s320/captura10.png" width="320" /></a></div><br /><br />Para exportar el producto debemos seleccionar en el producto en la  parte de Exporting Eclipse Product export wizard. En la ventana que  obtendremos debemos indicar la configuración, el directorio de salida y  marcar la casilla de Generate metadata repository:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-xfpg4-fSZYI/UCoUd2epU4I/AAAAAAAAAHg/xAopLFUEfTI/s1600/captura11.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="304" src="http://2.bp.blogspot.com/-xfpg4-fSZYI/UCoUd2epU4I/AAAAAAAAAHg/xAopLFUEfTI/s320/captura11.png" width="320" /></a></div>&nbsp;De esta manera en el directorio de salida podemos encontrar un  ejecutable que se puede ejecutar desde consola y obtener de nuevo Hello  RCP World!:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-4jb0OOlHEtg/UCoUm69WAXI/AAAAAAAAAHo/jgNj1Dt8bA0/s1600/captura12.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="192" src="http://3.bp.blogspot.com/-4jb0OOlHEtg/UCoUm69WAXI/AAAAAAAAAHo/jgNj1Dt8bA0/s320/captura12.png" width="320" /></a></div><br />En conclusión, es posible construir un producto standalone a partir de un plugin de eclipse desde el entorno gráfico de eclipse. El problema es que este ejecutable es dependiente del sistema donde se construye. Para  construir un ejecutable para cada entorno se puede utilizar el  delta-pack pero sólo es necesario para construir aplicaciones desde el  entorno de eclipse. Nuestro propósito en próximos artículos es construir aplicaciones con maven desde consola y sin necesidad de hacerlo desde el entorno de eclipse.<br /><br />Por lo tanto, si quieres saber como crear un producto standalone a partir de un plugin de eclipse con maven y desde consola tendrás que leer mi próximo artículo de la trilogía de eclipse.<br /><br /><br /><br />