---
layout: post
title: ¡¡Refactoriza y vencerás!!
date: '2012-05-17T13:11:00.000+02:00'
author: Míriam Luján
categories:
- tecnologia
- calidad
- desarrollo
modified_time: '2012-05-17T13:48:31.903+02:00'
thumbnail: http://1.bp.blogspot.com/-h4xivpb3qsU/T7PQHAGolPI/AAAAAAAAAFc/FAO9ImbOCak/s72-c/windows_broken.jpg
blogger_id: tag:blogger.com,1999:blog-6299073294914176200.post-3526836924843970937
blogger_orig_url: http://opinion.excentia.es/2012/05/refactoriza-y-venceras.html
---

<style type="text/css"> <!--   @page { margin: 2cm }   P { margin-bottom: 0.21cm }  -->  </style><br /><div style="margin-bottom: 0cm;"><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-h4xivpb3qsU/T7PQHAGolPI/AAAAAAAAAFc/FAO9ImbOCak/s1600/windows_broken.jpg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="200" src="http://1.bp.blogspot.com/-h4xivpb3qsU/T7PQHAGolPI/AAAAAAAAAFc/FAO9ImbOCak/s200/windows_broken.jpg" width="146" /></a></div>En los años 80 nació <a href="http://www.theatlantic.com/magazine/archive/1982/03/broken-windows/4465/#" target="_blank">la teoría de las ventanas rotas</a> por parte de James Q. Wilson y George Kelling. La teoría se basa en una conducta humana, por desgracia muy común, en la que si todo el mundo hace algo mal nos preguntamos: ¿Por qué tengo que hacerlo yo bien?</div><div style="margin-bottom: 0cm;">La idea es que si encontramos un edificio con una ventana rota, y dicha ventana no es reparada, lo más probable es que en un tiempo el edificio tenga más ventanas rotas. Esto es así porque el primer cristal roto deja un mensaje claro: "Nadie cuida esto". Con el tiempo el edificio se irá degradando cada vez más. Además, si el edificio se va estropeando lo más seguro es que el barrio donde se encuentra corra la misma suerte. La razón principal es que el interés por cuidar algo es directamente proporcional al estado en el que se encuentre.<br /><br /><br /><a name='more'></a>El mensaje de esta teoría es claro: una vez que se empiezan a desobedecer las normas todo se deteriora a una velocidad sorprendente. Las conductas incivilizadas se contagian. <br /><br /></div><div style="margin-bottom: 0cm;"><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-bCO3WXQq_hs/T7TYt8vv1BI/AAAAAAAAAF0/0dteVGe3VDw/s1600/manzana2.jpg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="150" src="http://1.bp.blogspot.com/-bCO3WXQq_hs/T7TYt8vv1BI/AAAAAAAAAF0/0dteVGe3VDw/s200/manzana2.jpg" width="200" /></a></div>Esta idea de la vida diaria tan aceptada por todo el mundo se puede extrapolar al software. Si un programador deja un método sin comentar cuando otro programador lo vea actuará igual de mal. Este tipo de comportamientos a la hora de programar hacen que la calidad del código vaya empeorando progresivamente. Algunos autores lo comparan a una manzana pudriéndose con el paso del tiempo. Por lo tanto, poco a poco parece que nuestro código “huela mal” y vaya perdiendo calidad [1].</div><div style="margin-bottom: 0cm;"><br />Para evaluar de manera precisa, si nuestro código ha perdido calidad debido a las malas prácticas, se puede utilizar el <a href="http://opinion.excentia.es/2012/03/la-deuda-tecnica-y-el-metodo-sqale.html" target="_blank">método SQALE y el concepto de deuda técnica</a>. De manera intuitiva, deberemos preocuparnos cuando nuestro código cuente con código duplicado, métodos y clases muy grandes o métodos que necesitan muchos parámetros. Para arreglar este tipo de problemas lo más recomendable es llevar a cabo una refactorización del código.<br /><br /></div><div style="margin-bottom: 0cm;"></div><div style="margin-bottom: 0cm;">La refactorización surgió en un artículo de William F. Opdyke y Ralph E. Johnson llamado “Refactoring: An Aid in Designing Application Frameworks and Evolving Object-Oriented Systems” [2]. La refactorización es una técnica que consiste en reestructurar el código sin alterar su comportamiento. La idea principal es que el código sea más reutilizable, mantenible o legible. Es un proceso de mantenimiento que no arregla errores ni añade funcionalidad pero es muy importante en el ciclo de vida del software.<br /><br /></div><div style="margin-bottom: 0cm;">En la actualidad se pueden encontrar programas o plugins que realizan refactorizaciones de código. A continuación se detallan algunas opciones interesantes a tener en cuenta: <br /><br /><br /><a href="http://4.bp.blogspot.com/-EPzLQaSR6j4/T7O-dAZAUpI/AAAAAAAAAEQ/Pku66xchD50/s1600/idea.gif" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="38" src="http://4.bp.blogspot.com/-EPzLQaSR6j4/T7O-dAZAUpI/AAAAAAAAAEQ/Pku66xchD50/s200/idea.gif" width="200" /></a><a href="http://www.jetbrains.com/idea/" target="_blank">IntelliJ IDEA</a> es un entorno de desarrollo Java propiedad de la empresa JetBrains. Existen dos distribuciones: Community Edition (open source) y Ultimate (comercial). <br /><br /><div class="action-body flooded">IntelliJ Idea IDE es capaz de aplicar  algunas técnicas de refactorización como: renombrar, extraer métodos,  introducir variables, etc.&nbsp;Lo más destacable es que es capaz de detectar métodos duplicados y arreglarlos. El problema es que si se elimina una línea del método ya no detecta la duplicación. Es decir, no detecta bloques de código duplicado, sólo métodos completos.<br /><br />Es capaz de analizar código fuente detectando ciclos o errores y en algunos casos sugiere una solución que se puede aplicar de manera automática. <br /><br /><br /><span id="goog_1529084628"></span><span id="goog_1529084629"></span></div><div class="action-body flooded"></div><div class="action-body flooded"></div><div class="action-body flooded"></div><div class="action-body flooded"></div><div class="action-body flooded"><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><a href="http://2.bp.blogspot.com/-nZPCavr3zCk/T7PMfqwrN-I/AAAAAAAAAFE/zK5quPjlwmg/s1600/logoCodeProAnalytix.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="116" src="http://2.bp.blogspot.com/-nZPCavr3zCk/T7PMfqwrN-I/AAAAAAAAAFE/zK5quPjlwmg/s200/logoCodeProAnalytix.png" width="200" /></a><a href="https://developers.google.com/java-dev-tools/codepro/doc/" target="_blank">CodePro Analytix</a> es una herramienta para evaluar código Java para desarrolladores que desarrollan con Eclipse. Se integra perfectamente en Eclipse, usando el análisis automático de código fuente para detectar problemas de calidad.<br /><br />Ofrece recomendaciones para arreglar la mayoría de errores detectados pero no los arregla automáticamente.<br /><br />Entre los aspectos más destacables encontramos que detecta código duplicado, código muerto o genera casos de test de manera automática. <br /><div style="text-align: justify;"><br /></div><div style="text-align: justify;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-aCAl_BNXlng/T7PHQl1VgdI/AAAAAAAAAEw/MNQqwAAF0CQ/s1600/refactoritlogo.jpg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-aCAl_BNXlng/T7PHQl1VgdI/AAAAAAAAAEw/MNQqwAAF0CQ/s1600/refactoritlogo.jpg" /></a></div><div style="text-align: justify;"><a href="http://refactorit.sourceforge.net/" target="_blank">RefactorIt</a> es un plugin de Eclipse que nos permite inspeccionar código detectando debilidades del proyecto.<br /><br />El plugin es configurable siendo posible seleccionar reglas de <a href="https://servicios.excentia.es/confluence/display/QAX/SONAR+PMD+Model+Plugin" target="_blank">PMD</a> para analizar el código.<br /><br />Algunos de los errores detectados cuentan con una sugerencia para solucionar el problema de manera automática. Una ventaja del plugin es que el cálculo de métricas se realiza incluso a nivel de método pero la visualización no es muy práctica.<br /><br />Por último, es necesario resaltar que detecta cadenas duplicadas, analiza cadenas que pueden ser internacionalizadas o lleva a cabo algunos métodos de refactorización.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Estos son sólo algunas de las herramientas que se pueden utilizar para refactorizar código Java. Es cuestión de encontrar aquella que se adapte mejor a las necesidades de cada programador. Ya no hay excusa para no tener un código legible y mantenible. Refactoriza y mantén tu código limpio igual que mantienes tu casa o tu coche impecable.</div></div><br /><h4>     Referencias: </h4>[1] Martin Fowler. <a href="http://refactoring.com/">Refactoring</a>: Improving the Design of Existing Code. Addison-Wesley Longman Publishing Co.,Inc., Boston, MA, USA, 1999.<br /><br />[2] William F. Opdyke and Ralph E. Johnson Refactoring: An Aid in Designing  Application Frameworks and Evolving Object-Oriented Systems Proceedings  of the Symposium on Object Oriented Programming Emphasizing Practical  Applications September, 1990.  ACM.</div>